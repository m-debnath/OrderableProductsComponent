<!-- sldsValidatorIgnore -->
<template>
    <lightning-card title="Available Products" icon-name="standard:price_book_entries">
        <!-- Add to Cart Button -->
        <div style="position: absolute; top: 12px; right: 18px;">
            <lightning-button-group>
                <template if:true={draftStatus}>
                    <lightning-button class="add-to-cart-button" disabled={noRowSelected} label="Add to Cart" onclick={handleClick}></lightning-button>
                </template>
            </lightning-button-group>
        </div>
        <div class="slds-var-m-around_medium">
            <div>
                <p class="greeting-text slds-var-p-bottom_x-small">
                    {greeting_text}
                </p>
            </div>
            <div class="slds-border_bottom products-datatable" style="height: 239px;">
                <lightning-datatable
                    key-field="Id"
                    data={data}
                    columns={columns}
                    enable-infinite-loading
                    onloadmore={loadMoreData}
                    load-more-offset="20"
                    max-row-selection="1"
                    onrowselection={getSelectedProduct}
                    class="eligible-products-table">
                </lightning-datatable>
            </div>
            <div style="text-align: center;" class="footer-text slds-var-p-top_x-small">
                Loaded {data.length} of {totalNumberOfRows} products.
            </div>
        </div>
    </lightning-card>
</template>